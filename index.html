<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Francisco & Rocío - Boda</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="logo_blanco.png" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8IS0tIEZvbmRvIGJsYW5jbyBzw7NsaWRvIC0tPgogIDxyZWN0IHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0iI0ZGRkZGRiIvPgogIAogIDwhLS0gTG9nbyBjb24gaG9qYXMgZW4gdG9ub3MgbcOhcyBvc2N1cm9zIHBhcmEgbWVqb3IgY29udHJhc3RlIC0tPgogIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2LCAxNikiPgogICAgPCEtLSBUYWxsbyBwcmluY2lwYWwgLS0+CiAgICA8cGF0aCBkPSJNIDAsLTEyIFEgLTAuNSwtNCAwLDQgUSAwLjUsMTAgMCwxNCIgCiAgICAgICAgICBzdHJva2U9IiM2YjU1NDQiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CiAgICAKICAgIDwhLS0gSG9qYXMgaXpxdWllcmRhIC0tPgogICAgPGVsbGlwc2UgY3g9Ii00LjUiIGN5PSItOCIgcng9IjMuNSIgcnk9IjEuNCIgZmlsbD0iIzdkNjU1NCIgb3BhY2l0eT0iMC45IiB0cmFuc2Zvcm09InJvdGF0ZSgtMzUgLTQuNSAtOCkiLz4KICAgIDxlbGxpcHNlIGN4PSItNC41IiBjeT0iLTIiIHJ4PSIzLjciIHJ5PSIxLjUiIGZpbGw9IiM3ZDY1NTQiIG9wYWNpdHk9IjAuOSIgdHJhbnNmb3JtPSJyb3RhdGUoLTM4IC00LjUgLTIpIi8+CiAgICA8ZWxsaXBzZSBjeD0iLTQuNSIgY3k9IjQiIHJ4PSIzLjUiIHJ5PSIxLjQiIGZpbGw9IiM3ZDY1NTQiIG9wYWNpdHk9IjAuOSIgdHJhbnNmb3JtPSJyb3RhdGUoLTM2IC00LjUgNCkiLz4KICAgIDxlbGxpcHNlIGN4PSItNC41IiBjeT0iMTAiIHJ4PSIzLjciIHJ5PSIxLjUiIGZpbGw9IiM3ZDY1NTQiIG9wYWNpdHk9IjAuOSIgdHJhbnNmb3JtPSJyb3RhdGUoLTM3IC00LjUgMTApIi8+CiAgICAKICAgIDwhLS0gSG9qYXMgZGVyZWNoYSAtLT4KICAgIDxlbGxpcHNlIGN4PSI0LjUiIGN5PSItNiIgcng9IjMuNSIgcnk9IjEuNCIgZmlsbD0iIzdkNjU1NCIgb3BhY2l0eT0iMC45IiB0cmFuc2Zvcm09InJvdGF0ZSgzNSA0LjUgLTYpIi8+CiAgICA8ZWxsaXBzZSBjeD0iNC41IiBjeT0iMCIgcng9IjMuNyIgcnk9IjEuNSIgZmlsbD0iIzdkNjU1NCIgb3BhY2l0eT0iMC45IiB0cmFuc2Zvcm09InJvdGF0ZSgzOCA0LjUgMCkiLz4KICAgIDxlbGxpcHNlIGN4PSI0LjUiIGN5PSI2IiByeD0iMy41IiByeT0iMS40IiBmaWxsPSIjN2Q2NTU0IiBvcGFjaXR5PSIwLjkiIHRyYW5zZm9ybT0icm90YXRlKDM2IDQuNSA2KSIvPgogICAgPGVsbGlwc2UgY3g9IjQuNSIgY3k9IjEyIiByeD0iMy43IiByeT0iMS41IiBmaWxsPSIjN2Q2NTU0IiBvcGFjaXR5PSIwLjkiIHRyYW5zZm9ybT0icm90YXRlKDM3IDQuNSAxMikiLz4KICAgIAogICAgPCEtLSBDb25leGlvbmVzIC0tPgogICAgPHBhdGggZD0iTSAwLC04IEwgLTQuNSwtOCIgc3Ryb2tlPSIjNmI1NTQ0IiBzdHJva2Utd2lkdGg9IjAuNSIgb3BhY2l0eT0iMC43Ii8+CiAgICA8cGF0aCBkPSJNIDAsLTYgTCA0LjUsLTYiIHN0cm9rZT0iIzZiNTU0NCIgc3Ryb2tlLXdpZHRoPSIwLjUiIG9wYWNpdHk9IjAuNyIvPgogICAgPHBhdGggZD0iTSAwLC0yIEwgLTQuNSwtMiIgc3Ryb2tlPSIjNmI1NTQ0IiBzdHJva2Utd2lkdGg9IjAuNSIgb3BhY2l0eT0iMC43Ii8+CiAgICA8cGF0aCBkPSJNIDAsMCBMIDQuNSwwIiBzdHJva2U9IiM2YjU1NDQiIHN0cm9rZS13aWR0aD0iMC41IiBvcGFjaXR5PSIwLjciLz4KICAgIDxwYXRoIGQ9Ik0gMCw0IEwgLTQuNSw0IiBzdHJva2U9IiM2YjU1NDQiIHN0cm9rZS13aWR0aD0iMC41IiBvcGFjaXR5PSIwLjciLz4KICAgIDxwYXRoIGQ9Ik0gMCw2IEwgNC41LDYiIHN0cm9rZT0iIzZiNTU0NCIgc3Ryb2tlLXdpZHRoPSIwLjUiIG9wYWNpdHk9IjAuNyIvPgogICAgPHBhdGggZD0iTSAwLDEwIEwgLTQuNSwxMCIgc3Ryb2tlPSIjNmI1NTQ0IiBzdHJva2Utd2lkdGg9IjAuNSIgb3BhY2l0eT0iMC43Ii8+CiAgICA8cGF0aCBkPSJNIDAsMTIgTCA0LjUsMTIiIHN0cm9rZT0iIzZiNTU0NCIgc3Ryb2tlLXdpZHRoPSIwLjUiIG9wYWNpdHk9IjAuNyIvPgogIDwvZz4KPC9zdmc+Cg==" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <style>
    html { scroll-behavior: smooth; }
    
    /* Animaciones sutiles */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    
    :root {
      --bg-main: #f6f1e9;
      --bg-card: #fdfaf5;
      --accent: #e3d6c4;
      --accent-soft: #f0e3d3;
      --accent-strong: #a07855;
      --text-main: #3c2f2c;
      --text-soft: #857872;
      --border-soft: #e1d2c2;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
   body {
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background-color: var(--bg-main);
  background-image: url("1.png");  /* tu imagen nueva */
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center center;
  background-attachment: scroll;
  color: var(--text-main);
  line-height: 1.5;
  padding: 20px 12px;
  display: flex;
  justify-content: center;
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}
    
    .page-wrapper { 
      max-width: 520px; 
      width: 100%; 
      position: relative;
      z-index: 1;
    }
    
    /* Indicador de scroll sutil */
    .scroll-indicator {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      opacity: 0;
      animation: fadeInScroll 1s ease-out 1s forwards;
      z-index: 100;
    }
    
    @keyframes fadeInScroll {
      to { opacity: 0.6; }
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }
    
    .scroll-indicator-arrow {
      width: 24px;
      height: 24px;
      border-left: 2px solid var(--accent-strong);
      border-bottom: 2px solid var(--accent-strong);
      transform: rotate(-45deg);
      animation: bounce 2s ease-in-out infinite;
    }
    
    .scroll-indicator-text {
      font-size: 0.7rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--text-soft);
    }
    .card {
      position: relative;
      background: var(--bg-card);
      border-radius: 24px;
      padding: 26px 20px 28px;
      border: 1px solid rgba(215, 196, 176, 0.9);
      box-shadow: 0 18px 36px rgba(60, 47, 44, 0.08), 0 0 0 1px rgba(255, 255, 255, 0.9);
      overflow: hidden;
      animation: fadeIn 0.8s ease-out;
    }
    .card::before {
      content: "";
      position: absolute;
      inset: 14px;
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.9);
      pointer-events: none;
    }
    header { 
      text-align: center; 
      margin-bottom: 18px; 
      position: relative; 
      z-index: 1; 
    }
    
    
    .crest-wrapper { 
      display: flex; 
      justify-content: center; 
      margin-bottom: 14px; 
      position: relative;
    }
    .crest-image { max-width: 210px; width: 100%; height: auto; display: block; }
    .names {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: "Playfair Display", serif;
      text-transform: uppercase;
      color: #3b2b23;
      letter-spacing: 0.16em;
      line-height: 1.1;
      margin-bottom: 10px;
    }
    .name-line { font-size: clamp(1.8rem, 5vw, 2.6rem); font-weight: 600; }
    .amp-line {
      font-size: clamp(2rem, 6vw, 3rem);
      font-family: "Playfair Display", serif;
      font-style: italic;
      color: #a07855;
      margin: 4px 0;
    }
    .subtitle {
      font-size: 0.9rem;
      color: var(--text-soft);
      letter-spacing: 0.09em;
      text-transform: uppercase;
      margin-bottom: 14px;
    }
    .verse {
      font-family: "Playfair Display", serif;
      font-style: italic;
      font-size: 0.88rem;
      color: var(--text-soft);
      line-height: 1.6;
      max-width: 400px;
      margin: 0 auto 14px;
      text-align: center;
    }
    .verse-reference {
      font-size: 0.78rem;
      margin-top: 4px;
      opacity: 0.8;
    }
    .wedding-date {
      font-size: 0.8rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-soft);
      margin-bottom: 6px;
    }
    .divider {
      position: relative;
      margin: 10px auto 18px;
      width: 140px;
      height: 18px;
    }
    .divider-line {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100%;
      height: 1px;
      background: linear-gradient(to right, transparent, var(--border-soft), transparent);
      transform: translate(-50%, -50%);
    }
    .divider-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: #fdf7f0;
      border: 1px solid rgba(227, 214, 196, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      transform: translate(-50%, -50%);
      font-size: 0.8rem;
      transition: all 0.3s ease;
    }
    .divider-icon:hover {
      transform: translate(-50%, -50%) scale(1.1);
      box-shadow: 0 4px 12px rgba(160, 120, 85, 0.15);
    }
    .hero-text { font-size: 0.95rem; color: var(--text-main); margin-bottom: 20px; padding: 0 4px; text-align: center; }
    .hero-text strong { font-weight: 600; }
    .events-layout {
      border-radius: 16px;
      background: linear-gradient(145deg, rgba(254, 248, 240, 0.96), rgba(245, 233, 218, 0.96));
      border: 1px solid rgba(228, 209, 189, 0.9);
      padding: 16px 16px 14px;
      margin-bottom: 20px;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    .events-layout:hover {
      box-shadow: 0 8px 20px rgba(60, 47, 44, 0.08);
      transform: translateY(-2px);
    }
    .events-layout::before {
      content: "";
      position: absolute;
      inset: 9px;
      border-radius: 12px;
      border: 1px dashed rgba(217, 195, 172, 0.8);
      pointer-events: none;
    }
    .events-heading { text-align: center; margin-bottom: 12px; position: relative; z-index: 1; }
    .events-heading h2 {
      font-family: "Playfair Display", serif;
      font-size: 1.1rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: #43342c;
      margin-bottom: 6px;
    }
    .events-heading p { font-size: 0.8rem; letter-spacing: 0.16em; text-transform: uppercase; color: var(--text-soft); }
    .event-unified {
      background: rgba(253, 250, 245, 0.98);
      border-radius: 14px;
      border: 1px solid rgba(233, 215, 193, 0.95);
      padding: 14px 14px 12px;
      position: relative;
      z-index: 1;
      box-shadow: 0 6px 10px rgba(60, 47, 44, 0.06), 0 0 0 1px rgba(255, 255, 255, 0.9);
    }
    .event-unified-title { font-family: "Playfair Display", serif; font-size: 1.05rem; text-align: center; margin-bottom: 12px; color: #3f312a; }
    .event-detail-row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; font-size: 0.88rem; color: var(--text-main); }
    .event-detail-row:last-child { margin-bottom: 0; }
    .event-emoji { 
      width: 28px;
      height: 28px;
      object-fit: contain;
      opacity: 0.75;
    }
    .event-detail-content { flex: 1; }
    .event-detail-label { font-weight: 600; margin-bottom: 2px; color: #4a382f; }
    .event-detail-text { font-size: 0.84rem; color: var(--text-soft); }
    .event-detail-text a {
      color: #a07855;
      text-decoration: none;
      border-bottom: 1px solid rgba(160, 120, 85, 0.3);
      transition: all 0.3s ease;
      position: relative;
    }
    .event-detail-text a::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 0;
      height: 1px;
      background: #a07855;
      transition: width 0.3s ease;
    }
    .event-detail-text a:hover {
      border-bottom-color: transparent;
      color: #8b6344;
    }
    .event-detail-text a:hover::after {
      width: 100%;
    }
    .deadline-alert {
      margin-top: 14px;
      padding: 12px 14px;
      border-radius: 12px;
      background: rgba(180, 93, 93, 0.08);
      border: 1px solid rgba(180, 93, 93, 0.25);
      text-align: center;
      position: relative;
      z-index: 1;
    }
    .deadline-alert-title {
      font-size: 0.76rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: #b45d5d;
      margin-bottom: 4px;
      font-weight: 600;
    }
    .deadline-alert-date { font-family: "Playfair Display", serif; font-size: 1.1rem; color: #8b3a3a; font-weight: 600; }
    .note { font-size: 0.8rem; text-align: center; color: var(--text-soft); margin-bottom: 16px; padding: 0 4px; }
    .rsvp-card {
      margin-top: 4px;
      padding: 18px 14px 12px;
      border-radius: 16px;
      background: rgba(254, 248, 240, 0.98);
      border: 1px solid rgba(230, 210, 191, 0.95);
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    .rsvp-card:hover {
      box-shadow: 0 8px 20px rgba(60, 47, 44, 0.08);
      transform: translateY(-2px);
    }
    .rsvp-card::before {
      content: "";
      position: absolute;
      inset: 9px;
      border-radius: 12px;
      border: 1px dashed rgba(217, 195, 172, 0.8);
      pointer-events: none;
    }
    .rsvp-header { text-align: center; margin-bottom: 10px; position: relative; z-index: 1; }
    .rsvp-title {
      font-family: "Playfair Display", serif;
      font-size: 1.02rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: #43342c;
      margin-bottom: 6px;
    }
    .rsvp-note { font-size: 0.8rem; color: var(--text-soft); letter-spacing: 0.12em; text-transform: uppercase; }
    form { position: relative; z-index: 1; margin-top: 4px; }
    .field { margin-bottom: 10px; }
    label {
      display: block;
      font-size: 0.78rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--text-soft);
      margin-bottom: 4px;
    }
    label span { color: #b45d5d; }
    input[type="text"],
    input[type="number"],
    select,
    textarea {
      width: 100%;
      border-radius: 10px;
      border: 1px solid rgba(215, 196, 176, 0.9);
      padding: 9px 10px;
      font-size: 0.85rem;
      font-family: "Inter", system-ui, sans-serif;
      background: rgba(253, 250, 245, 0.95);
      color: var(--text-main);
      outline: none;
      transition: all 0.15s ease;
    }
    input::placeholder, textarea::placeholder { color: rgba(138, 120, 104, 0.7); font-size: 0.82rem; }
    input:focus, select:focus, textarea:focus {
      border-color: #a07855;
      box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.9), 0 0 0 3px rgba(160, 120, 85, 0.2);
      background: #fefaf5;
    }
    textarea { min-height: 70px; resize: vertical; }
    .field-checkbox { display: flex; align-items: center; gap: 6px; padding-top: 6px; }
    .field-checkbox input[type="checkbox"] { width: auto; accent-color: #a07855; transform: scale(1.05); }
    .field-checkbox span { font-size: 0.8rem; color: var(--text-main); }
    .acompanantes-extra {
      margin-top: 8px;
      padding: 10px 10px 6px;
      border-radius: 12px;
      border: 1px dashed rgba(217, 195, 172, 0.9);
      background: rgba(253, 250, 245, 0.9);
      display: none;
    }
    .acompanantes-extra.minimized {
      padding: 10px;
    }
    .acompanantes-extra.minimized #acompanantes-list,
    .acompanantes-extra.minimized .acompanantes-actions {
      display: none;
    }
    .acompanantes-summary {
      display: none;
      align-items: center;
      justify-content: space-between;
      padding: 8px 10px;
      background: rgba(160, 120, 85, 0.08);
      border-radius: 8px;
      border: 1px solid rgba(160, 120, 85, 0.2);
    }
    .acompanantes-extra.minimized .acompanantes-summary {
      display: flex;
    }
    .acompanantes-summary-text {
      font-size: 0.82rem;
      color: var(--text-main);
      font-weight: 500;
    }
    .btn-edit {
      background: linear-gradient(135deg, #a07855, #cda57a);
      color: white;
      border: none;
      padding: 6px 14px;
      border-radius: 999px;
      font-size: 0.72rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 3px 8px rgba(160, 120, 85, 0.25);
    }
    .btn-edit:hover {
      transform: translateY(-1px);
      box-shadow: 0 5px 12px rgba(160, 120, 85, 0.35);
    }
    .acompanantes-extra-title {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-soft);
      margin-bottom: 6px;
    }
    .acompanante-block {
      border-radius: 10px;
      border: 1px solid rgba(230, 210, 191, 0.9);
      padding: 8px 8px 6px;
      margin-bottom: 8px;
      background: rgba(254, 248, 240, 0.95);
      position: relative;
    }
    .acompanante-block-header {
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--text-soft);
      margin-bottom: 4px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .btn-remove {
      background: none;
      border: none;
      color: #b45d5d;
      cursor: pointer;
      font-size: 1.1rem;
      padding: 0 4px;
      line-height: 1;
    }
    .acompanante-grid { display: grid; grid-template-columns: 1.4fr 0.7fr; gap: 6px; }
    .acompanantes-actions { display: flex; justify-content: space-between; gap: 8px; margin-top: 4px; }
    .btn-small {
      flex: 1;
      border-radius: 999px;
      border: 1px solid rgba(193, 154, 112, 0.8);
      background: #f7ecde;
      font-size: 0.74rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      padding: 6px 8px;
      cursor: pointer;
    }
    .btn-small.secondary { border-color: rgba(150, 135, 120, 0.8); background: #f3e7da; }
    .btn-submit {
      width: 100%;
      margin-top: 8px;
      border-radius: 999px;
      border: 1px solid rgba(193, 154, 112, 0.9);
      background: linear-gradient(135deg, #a07855, #cda57a);
      color: #fdfaf5;
      padding: 9px 12px;
      font-size: 0.84rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      cursor: pointer;
      box-shadow: 0 9px 18px rgba(102, 73, 50, 0.35), 0 0 0 1px rgba(255, 255, 255, 0.95);
      transition: all 0.12s ease;
      background-size: 180% 180%;
      background-position: 0% 50%;
    }
    .btn-submit:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 22px rgba(77, 57, 40, 0.38), 0 0 0 1px rgba(255, 255, 255, 0.95);
      filter: brightness(1.02);
      background-position: 100% 50%;
    }
    .btn-submit:active {
      transform: translateY(0);
      box-shadow: 0 7px 14px rgba(77, 57, 40, 0.32), 0 0 0 1px rgba(255, 255, 255, 0.95);
    }
    .helper-text { margin-top: 8px; font-size: 0.74rem; color: var(--text-soft); text-align: center; }
    .pricing-card {
      margin-top: 18px;
      padding: 16px 16px 14px;
      border-radius: 16px;
      border: 1px solid rgba(230, 210, 191, 0.95);
      background: rgba(253, 250, 245, 0.98);
      position: relative;
    }
    .pricing-title {
      font-family: "Playfair Display", serif;
      font-size: 1.05rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      text-align: center;
      margin-bottom: 12px;
      color: #43342c;
    }
    .pricing-grid { display: grid; gap: 10px; margin-bottom: 12px; }
    .pricing-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 12px;
      background: rgba(250, 242, 232, 0.9);
      border-radius: 10px;
      border: 1px solid rgba(217, 195, 172, 0.6);
    }
    .pricing-label { font-size: 0.88rem; color: var(--text-main); }
    .pricing-amount { font-family: "Playfair Display", serif; font-size: 1.1rem; font-weight: 600; color: #a07855; }
    .pricing-note { font-size: 0.78rem; text-align: center; color: var(--text-soft); line-height: 1.4; }
    .gift-card {
      margin-top: 18px;
      padding: 14px 14px 10px;
      border-radius: 16px;
      border: 1px solid rgba(230, 210, 191, 0.95);
      background: rgba(253, 250, 245, 0.98);
      position: relative;
    }
    .gift-title {
      font-family: "Playfair Display", serif;
      font-size: 1rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      text-align: center;
      margin-bottom: 6px;
      color: #43342c;
    }
    .gift-text { font-size: 0.8rem; text-align: center; color: var(--text-soft); margin-bottom: 8px; }
    .gift-data {
      font-size: 0.85rem;
      color: var(--text-main);
      line-height: 1.4;
      background: rgba(250, 242, 232, 0.9);
      border-radius: 10px;
      border: 1px dashed rgba(217, 195, 172, 0.9);
      padding: 10px 12px;
    }
    .gift-data p + p { margin-top: 4px; }
    .gift-label { font-weight: 600; text-transform: uppercase; letter-spacing: 0.12em; font-size: 0.72rem; }
    
    /* Sección de ceremonia civil */
    .civil-card {
      margin-top: 18px;
      padding: 14px 14px 10px;
      border-radius: 16px;
      border: 1px solid rgba(230, 210, 191, 0.95);
      background: rgba(253, 250, 245, 0.98);
      position: relative;
    }

    .civil-divider {
      position: relative;
      margin: 0 auto 16px;
      width: 140px;
      height: 18px;
    }

    .civil-divider-line {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100%;
      height: 1px;
      background: linear-gradient(to right, transparent, var(--border-soft), transparent);
      transform: translate(-50%, -50%);
    }

    .civil-divider-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: #fdf7f0;
      border: 1px solid rgba(227, 214, 196, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      transform: translate(-50%, -50%);
      transition: all 0.3s ease;
      font-size: 1.2rem;
    }

    .civil-divider-icon:hover {
      transform: translate(-50%, -50%) scale(1.1);
      box-shadow: 0 4px 12px rgba(160, 120, 85, 0.15);
    }

    .divider-emoji {
      width: 18px;
      height: 18px;
      object-fit: contain;
      opacity: 0.8;
    }

    .civil-title {
      font-family: "Playfair Display", serif;
      font-size: 1rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      text-align: center;
      margin-bottom: 4px;
      color: #43342c;
    }

    .civil-subtitle {
      font-size: 0.75rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      text-align: center;
      color: var(--text-soft);
      margin-bottom: 14px;
    }

    .civil-details {
      background: rgba(250, 242, 232, 0.9);
      border-radius: 12px;
      border: 1px solid rgba(217, 195, 172, 0.8);
      padding: 12px 12px 8px;
      margin-bottom: 10px;
    }

    .civil-detail-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
      font-size: 0.88rem;
      color: var(--text-main);
    }

    .civil-detail-row:last-child {
      margin-bottom: 0;
    }

    .civil-detail-content {
      flex: 1;
    }

    .civil-detail-label {
      font-weight: 600;
      margin-bottom: 2px;
      color: #4a382f;
      font-size: 0.82rem;
    }

    .civil-detail-text {
      font-size: 0.84rem;
      color: var(--text-soft);
    }

    .civil-detail-text a {
      color: #a07855;
      text-decoration: none;
      border-bottom: 1px solid rgba(160, 120, 85, 0.3);
      transition: all 0.3s ease;
      position: relative;
    }

    .civil-detail-text a::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 0;
      height: 1px;
      background: #a07855;
      transition: width 0.3s ease;
    }

    .civil-detail-text a:hover {
      border-bottom-color: transparent;
      color: #8b6344;
    }

    .civil-detail-text a:hover::after {
      width: 100%;
    }

    .civil-note {
      font-size: 0.78rem;
      text-align: center;
      color: var(--text-soft);
      font-style: italic;
      line-height: 1.4;
    }
    
    footer { margin-top: 18px; text-align: center; font-size: 0.75rem; color: var(--text-soft); position: relative; z-index: 1; }
    footer .tiny-line {
      width: 54px;
      height: 1px;
      background: linear-gradient(to right, transparent, var(--border-soft), transparent);
      margin: 0 auto 6px;
    }
    
    /* Estilos del overlay de éxito */
    .success-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      z-index: 9999;
      display: none;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    .success-overlay.show {
      display: flex;
      opacity: 1;
      visibility: visible;
    }
    .success-card {
      background: var(--bg-card);
      border-radius: 24px;
      padding: 40px 30px;
      max-width: 450px;
      width: 90%;
      text-align: center;
      border: 1px solid rgba(215, 196, 176, 0.9);
      box-shadow: 0 20px 60px rgba(60, 47, 44, 0.3);
      position: relative;
    }
    .success-card::before {
      content: "";
      position: absolute;
      inset: 14px;
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.9);
      pointer-events: none;
    }
    .success-icon {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: linear-gradient(135deg, #7fb77e, #5a9d5a);
      color: white;
      font-size: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
      box-shadow: 0 8px 20px rgba(90, 157, 90, 0.3);
    }
    .success-title {
      font-family: "Playfair Display", serif;
      font-size: 1.6rem;
      color: var(--text-main);
      margin-bottom: 15px;
      letter-spacing: 0.02em;
    }
    .success-message {
      font-size: 0.95rem;
      color: var(--text-soft);
      line-height: 1.6;
      margin-bottom: 25px;
    }
    .success-btn {
      background: linear-gradient(135deg, #a07855, #cda57a);
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 999px;
      font-size: 0.9rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 6px 15px rgba(160, 120, 85, 0.3);
    }
    .success-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(160, 120, 85, 0.4);
    }

    /* Overlay de inicio para música */
    .music-intro-overlay {
      position: fixed;
      inset: 0;
      background: rgba(60, 47, 44, 0.85);
      backdrop-filter: blur(8px);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 1;
      visibility: visible;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    .music-intro-overlay.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    .music-intro-content {
      text-align: center;
      padding: 40px 30px;
      max-width: 400px;
    }

    .music-intro-icon {
      width: 100px;
      height: 100px;
      margin: 0 auto 25px;
      border-radius: 50%;
      background: linear-gradient(135deg, #a07855, #cda57a);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(160, 120, 85, 0.4);
      position: relative;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 10px 30px rgba(160, 120, 85, 0.4);
      }
      50% {
        transform: scale(1.05);
        box-shadow: 0 15px 40px rgba(160, 120, 85, 0.6);
      }
    }

    .music-intro-icon:hover {
      transform: scale(1.1);
      box-shadow: 0 15px 40px rgba(160, 120, 85, 0.6);
      animation: none;
    }

    .music-intro-icon svg {
      width: 40px;
      height: 40px;
      fill: white;
      margin-left: 5px;
    }

    .music-intro-text {
      color: #fdfaf5;
      font-family: "Playfair Display", serif;
      font-size: 1.3rem;
      margin-bottom: 10px;
      letter-spacing: 0.05em;
    }

    .music-intro-subtext {
      color: rgba(253, 250, 245, 0.8);
      font-size: 0.85rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }
    
    @media (min-width: 640px) {
      .card { padding: 30px 34px 32px; }
      .rsvp-card { padding: 20px 20px 10px; }
      .events-layout { padding: 18px 20px 14px; }
      .events-layout::before { inset: 10px; }
      .civil-card { padding: 18px 20px 14px; }
    }
    

    /* Optimización del fondo para móvil y tablets */
    @media (max-width: 767px) {
      body {
        background-attachment: scroll;
        background-size: cover;
        background-position: center center;
      }
    }
    
    /* Fondo fijo solo en desktop */
    @media (min-width: 768px) {
      body {
        background-attachment: fixed;
        background-position: center center;
      }
    }
    
    @media (min-width: 768px) {
      body { padding: 40px 20px; }
      .page-wrapper { max-width: 680px; }
      .card { 
        padding: 40px 50px 44px;
        box-shadow: 0 25px 50px rgba(60, 47, 44, 0.12), 0 0 0 1px rgba(255, 255, 255, 0.9);
      }
      .crest-image { max-width: 260px; }
      .names .name-line { font-size: 3rem; }
      .amp-line { font-size: 3.4rem; }
      .events-layout { padding: 24px 28px 20px; }
      .rsvp-card { padding: 26px 28px 18px; }
      .pricing-card, .gift-card, .civil-card { padding: 22px 24px 18px; }
      
      .civil-title {
        font-size: 1.05rem;
      }
    }
    
    @media (min-width: 1024px) {
      body { padding: 60px 40px; }
      .page-wrapper { max-width: 750px; }
      .card { 
        padding: 50px 60px 54px;
        box-shadow: 0 30px 60px rgba(60, 47, 44, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.9);
      }
      .crest-image { max-width: 300px; }
      .verse { font-size: 0.95rem; }
    }
    
    @media (max-width: 400px) {
      .acompanante-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="page-wrapper">
    <div class="card">
      <header>
        <div class="crest-wrapper">
          <img src="Logo boda F&R.png" alt="Logo Francisco y Rocío" class="crest-image" />
        </div>

        <h1 class="names">
          <span class="name-line">FRANCISCO</span>
          <span class="amp-line">&amp;</span>
          <span class="name-line">ROCÍO</span>
        </h1>

        <p class="subtitle">Nos casamos y queremos compartirlo con vos</p>

        <div class="verse">
          Las muchas aguas no podrán apagar el amor,<br>
          Ni lo ahogarán los ríos. (...)
          <div class="verse-reference">Cantares 8: 7</div>
        </div>

        <p class="wedding-date">
          Sábado 4 de Abril · 2026 · <br> Río Cuarto
        </p>

        <div class="divider">
          <div class="divider-line"></div>
          <div class="divider-icon">✝</div>
        </div>
      </header>

      <main>
        <section aria-label="Detalles de la boda">
          <p class="hero-text">
            Con mucha alegría queremos compartir que
            <strong>vamos a dar el SÍ</strong>. Nos encantaría que nos acompañes en este día tan importante.
          </p>

          <div class="events-layout">
            
            <div class="civil-divider">
            <div class="civil-divider-line"></div>
            <div class="civil-divider-icon">
              <img src="anillo-de-bodas.png" alt="Anillos" class="divider-emoji" />
            </div>
            </div>


            <div class="events-heading">
              <h2>Nuestro día</h2>
              <p>Ceremonia · Brunch · Celebración</p>
            </div>

            <div class="event-unified">
            

              <div class="event-detail-row">
                <img src="calendario.png" alt="Calendario" class="event-emoji" />
                <div class="event-detail-content">
                  <div class="event-detail-label">Día</div>
                  <div class="event-detail-text">Sábado 4 de Abril, 2026</div>
                </div>
              </div>

              <div class="event-detail-row">
                <img src="reloj-de-pared.png" alt="Reloj" class="event-emoji" />
                <div class="event-detail-content">
                  <div class="event-detail-label">Hora</div>
                  <div class="event-detail-text">10:30 hs. (Te recomendamos llegar unos minutos antes)</div>
                </div>
              </div>

              <div class="event-detail-row">
                <img src="ubicacion.png" alt="Ubicación" class="event-emoji" />
                <div class="event-detail-content">
                  <div class="event-detail-label">Lugar</div>
                  <div class="event-detail-text">
                    <a href="https://www.google.com/maps/place/Sal%C3%B3n+de+Eventos+Colegio+de+Abogados/@-33.089719,-64.3134376,17z/data=!3m1!4b1!4m6!3m5!1s0x95cdff88208dae53:0x2611460b3ca5a671!8m2!3d-33.089719!4d-64.3108627!16s%2Fg%2F11f658nnv6?entry=ttu&g_ep=EgoyMDI2MDEyMS4wIKXMDSoASAFQAw%3D%3D" target="_blank" rel="noopener noreferrer">
                      Quinta Colegio de Abogados de Río IV
                    </a>
                  </div>
                </div>
              </div>
            </div>

            <div class="deadline-alert">
              <div class="deadline-alert-title">Fecha límite para confirmar</div>
              <div class="deadline-alert-date">28 de Marzo, 2026</div>
            </div>
          </div>

          <p class="note">
            <i>Para ayudarnos con la organización, por favor <b>confirmá tu asistencia y aboná la tarjeta</b> antes de la fecha límite.</i>
          </p>
        </section>

        <section id="rsvp" class="rsvp-card" aria-labelledby="rsvp-title">
          <div class="rsvp-header">
            <h2 id="rsvp-title" class="rsvp-title">Confirmar asistencia</h2>
            <p class="rsvp-note">Tu respuesta nos ayuda a preparar todo mejor</p>
          </div>

          <form id="rsvp-form">
            
            <div class="field">
              <label for="nombre">Nombre y apellido <span>*</span></label>
              <input type="text" id="nombre" name="nombre" required placeholder="Escribí tu nombre completo" />
            </div>

            <div class="field field-checkbox">
              <input type="checkbox" id="tiene_acompanantes" name="tiene_acompanantes" value="si" />
              <span>Voy con acompañante(s)</span>
            </div>

            <div class="acompanantes-extra" id="acompanantes-extra">
              <p class="acompanantes-extra-title">Detalles de acompañantes</p>
              
              <div class="acompanantes-summary" id="acompanantes-summary">
                <span class="acompanantes-summary-text" id="summary-text">1 acompañante agregado</span>
                <button type="button" class="btn-edit" id="edit-acompanantes">Editar</button>
              </div>
              
              <div id="acompanantes-list"></div>
              <div class="acompanantes-actions">
                <button type="button" class="btn-small" id="add-acompanante">+ Agregar acompañante</button>
                <button type="button" class="btn-small secondary" id="done-acompanantes">Listo</button>
              </div>
              <input type="hidden" name="acompanantes_total" id="acompanantes_total" value="0" />
            </div>

            <div class="field">
              <label for="comentarios">Comentarios / mensaje para los novios</label>
              <textarea id="comentarios" name="comentarios" placeholder="Restricciones alimenticias, canciones que te gustaría escuchar, mensaje para nosotros..."></textarea>
            </div>

            <button type="submit" class="btn-submit">
              <span>Enviar confirmación</span>
              <span class="icon"></span>
            </button>

            <p class="helper-text" id="form-status">
              Tu respuesta se guarda automáticamente. ¡Gracias por acompañarnos!
            </p>
          </form>
        </section>

        <section class="pricing-card" aria-label="Valor de la tarjeta">
          <h2 class="pricing-title">Valor de la tarjeta</h2>
          <div class="pricing-grid">
            <div class="pricing-row">
              <span class="pricing-label">Adultos</span>
              <span class="pricing-amount">$90.000</span>
            </div>
            <div class="pricing-row">
              <span class="pricing-label">Niños de 4 a 12 años</span>
              <span class="pricing-amount">$45.000</span>
            </div>
          </div>
          <p class="pricing-note">
            Por favor, aboná la tarjeta antes del <strong>28 de Marzo </strong> para confirmar tu asistencia.
          </p>
        </section>

        <section class="gift-card" aria-label="Datos bancarios">
          <h2 class="gift-title">Datos bancarios</h2>
          <p class="gift-text">Podés realizar la transferencia a la siguiente cuenta:</p>
          <div class="gift-data">
            <p><span class="gift-label">BANCO</span><br />Santander</p>
            <p><span class="gift-label">ALIAS</span><br />boda.fran.ro</p>
            <p><span class="gift-label">TITULAR</span><br />Francisco Rodeghiero</p>
            <p><span class="gift-label">CUIT</span><br />20-41595500-7</p>
          </div>
        </section>

        <section class="civil-card" aria-label="Ceremonia civil">
          <div class="civil-divider">
            <div class="civil-divider-line"></div>
            <div class="civil-divider-icon">
              <img src="contrato.png" alt="contrato" class="divider-emoji" />
            </div>
          </div>
          
          <h2 class="civil-title">Ceremonia Civil</h2>
          <p class="civil-subtitle">Previo a la celebración</p>
          
          <div class="civil-details">
            <div class="civil-detail-row">
              <img src="calendario.png" alt="Calendario" class="event-emoji" />
              <div class="civil-detail-content">
                <div class="civil-detail-label">Día</div>
                <div class="civil-detail-text">Viernes 3 de Abril, 2026</div>
              </div>
            </div>

            <div class="civil-detail-row">
              <img src="reloj-de-pared.png" alt="Reloj" class="event-emoji" />
              <div class="civil-detail-content">
                <div class="civil-detail-label">Hora</div>
                <div class="civil-detail-text">10:00 hs. (Te esperamos unos minutos antes)</div>
              </div>
            </div>

            <div class="civil-detail-row">
              <img src="ubicacion.png" alt="Ubicación" class="event-emoji" />
              <div class="civil-detail-content">
                <div class="civil-detail-label">Lugar</div>
                <div class="civil-detail-text">
                  <a href="https://www.google.com/maps/place/Museo+Hist%C3%B3rico+Regional/@-33.1210759,-64.4257196,13z/data=!4m10!1m2!2m1!1smuseo+rio+cuarto!3m6!1s0x95d2001298ebe543:0x126d6507571b793b!8m2!3d-33.1210759!4d-64.3495019!15sChBtdXNlbyByaW8gY3VhcnRvkgEGbXVzZXVt4AEA!16s%2Fg%2F1hc2g5_4r?entry=ttu&g_ep=EgoyMDI2MDIwNC4wIKXMDSoASAFQAw%3D%3D" target="_blank" rel="noopener noreferrer">
                    Museo Histórico Regional
                  </a>
                </div>
              </div>
            </div>
          </div>
          
          <p class="civil-note">
            Nos gustaría que también nos acompañes en este momento tan especial
          </p>
        </section>

        <footer>
          <div class="tiny-line"></div>
          <p>Con cariño, Fran &amp; Ro</p>
        </footer>
      </main>
    </div>
  </div>

  <!-- Overlay de éxito -->
  <div class="success-overlay" id="successOverlay">
    <div class="success-card">
      <div class="success-icon">✓</div>
      <h2 class="success-title">¡Confirmación registrada!</h2>
      <p class="success-message">
        Gracias por confirmar tu asistencia. Nos vemos el 4 de Abril para celebrar juntos este momento tan especial.
      </p>
      <button class="success-btn" onclick="cerrarOverlay()">Cerrar</button>
    </div>
  </div>

  <!-- Overlay de inicio para música -->
  <div class="music-intro-overlay" id="musicIntroOverlay">
    <div class="music-intro-content">
      <div class="music-intro-icon" id="startMusicBtn">
        <svg viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"/>
        </svg>
      </div>
      <p class="music-intro-text">
        FRANCISCO<br>
        <img src="anillo-de-bodas.png" alt="Anillos" style="width: 35px; height: 35px; opacity: 0.9; margin: 8px 0; filter: brightness(0) invert(1);" /><br>
        ROCÍO
      </p>
      <p class="music-intro-subtext">· 04/04/2026 ·</p>
    </div>
  </div>

  <!-- Audio -->
  <audio id="backgroundMusic" loop>
    <source src="sound.mp3" type="audio/mpeg">
  </audio>

  <script>
    // URL del Google Apps Script para guardar en Sheets
    const scriptURL = 'https://script.google.com/macros/s/AKfycbyvhnT2btOF1B0eLo1qkrmaXDXVkxh8j0IG2Bk2Li-J4ciu-CzAAJoODIMVmp6NAU34/exec';
    
    const form = document.getElementById('rsvp-form');
    const statusText = document.getElementById('form-status');
    const chkAcompanantes = document.getElementById('tiene_acompanantes');
    const acompExtra = document.getElementById('acompanantes-extra');
    const acompList = document.getElementById('acompanantes-list');
    const acompTotalInput = document.getElementById('acompanantes_total');
    const btnAddAcomp = document.getElementById('add-acompanante');
    const btnDoneAcomp = document.getElementById('done-acompanantes');
    const btnEditAcomp = document.getElementById('edit-acompanantes');
    const acompSummary = document.getElementById('acompanantes-summary');
    const summaryText = document.getElementById('summary-text');
    const successOverlay = document.getElementById('successOverlay');
    
    // Control de música
    const backgroundMusic = document.getElementById('backgroundMusic');

    let acompCount = 0;
    let acompIdCounter = 0;

    // OVERLAY DE MÚSICA Y REPRODUCCIÓN AUTOMÁTICA
    const musicIntroOverlay = document.getElementById('musicIntroOverlay');
    const startMusicBtn = document.getElementById('startMusicBtn');

    if (startMusicBtn && musicIntroOverlay) {
      startMusicBtn.addEventListener('click', () => {
        // Ocultar overlay
        musicIntroOverlay.classList.add('hidden');
        
        // Reproducir música
        backgroundMusic.play().catch((error) => {
          console.log('Error al reproducir:', error);
        });
      });
    }

    // Ajustar volumen
    if (backgroundMusic) {
      backgroundMusic.volume = 0.4;
    }

    // Cerrar overlay
    window.cerrarOverlay = function() {
      successOverlay.classList.remove('show');
    };

    window.eliminarAcompanante = function(id) {
      const bloque = document.querySelector(`[data-acomp-id="${id}"]`);
      if (bloque) {
        bloque.remove();
        acompCount--;
        actualizarTotal();
        renumerarAcompanantes();
        if (acompCount === 0) {
          chkAcompanantes.checked = false;
          acompExtra.style.display = 'none';
        }
      }
    };

    function crearBloqueAcompanante() {
      acompIdCounter++;
      const num = acompIdCounter;
      const wrapper = document.createElement('div');
      wrapper.className = 'acompanante-block';
      wrapper.setAttribute('data-acomp-id', num);
      wrapper.innerHTML = `
        <div class="acompanante-block-header">
          <span class="acomp-numero">Acompañante 1</span>
          <button type="button" class="btn-remove" onclick="eliminarAcompanante(${num})">×</button>
        </div>
        <div class="acompanante-grid">
          <div>
            <label style="font-size:0.62rem;letter-spacing:0.14em;text-transform:uppercase;color:#857872;margin-bottom:4px;">Nombre y Apellido</label>
            <input type="text" name="acompanante_nombre_${num}" placeholder="Nombre completo" required />
          </div>
          <div>
            <label style="font-size:0.62rem;letter-spacing:0.14em;text-transform:uppercase;color:#857872;margin-bottom:4px;">Edad</label>
            <input type="number" name="acompanante_edad_${num}" min="0" max="120" placeholder="Edad" required />
          </div>
        </div>
      `;
      return wrapper;
    }

    function renumerarAcompanantes() {
      const bloques = acompList.querySelectorAll('.acompanante-block');
      bloques.forEach((bloque, index) => {
        const numeroSpan = bloque.querySelector('.acomp-numero');
        if (numeroSpan) {
          numeroSpan.textContent = `Acompañante ${index + 1}`;
        }
      });
    }

    function actualizarTotal() {
      acompTotalInput.value = acompCount;
    }

    function actualizarResumen() {
      if (acompCount === 1) {
        summaryText.textContent = '1 acompañante agregado';
      } else {
        summaryText.textContent = `${acompCount} acompañantes agregados`;
      }
    }

    function minimizarAcompanantes() {
      acompExtra.classList.add('minimized');
      actualizarResumen();
    }

    function expandirAcompanantes() {
      acompExtra.classList.remove('minimized');
    }

    if (chkAcompanantes) {
      chkAcompanantes.addEventListener('change', () => {
        if (chkAcompanantes.checked) {
          acompExtra.style.display = 'block';
          acompExtra.classList.remove('minimized');
          if (acompCount === 0) {
            acompCount = 1;
            acompList.innerHTML = '';
            acompList.appendChild(crearBloqueAcompanante());
            actualizarTotal();
            renumerarAcompanantes();
          }
        } else {
          acompExtra.style.display = 'none';
          acompExtra.classList.remove('minimized');
          acompList.innerHTML = '';
          acompCount = 0;
          acompIdCounter = 0;
          actualizarTotal();
        }
      });
    }

    if (btnAddAcomp) {
      btnAddAcomp.addEventListener('click', () => {
        acompCount++;
        acompList.appendChild(crearBloqueAcompanante());
        actualizarTotal();
        renumerarAcompanantes();
      });
    }

    if (btnDoneAcomp) {
      btnDoneAcomp.addEventListener('click', () => {
        if (acompCount > 0) {
          minimizarAcompanantes();
        }
      });
    }

    if (btnEditAcomp) {
      btnEditAcomp.addEventListener('click', () => {
        expandirAcompanantes();
      });
    }

    if (form) {
      form.addEventListener('submit', function (e) {
        e.preventDefault();
        statusText.textContent = 'Enviando tu respuesta...';

        fetch(scriptURL, {
          method: 'POST',
          body: new FormData(form)
        })
        .then(response => response.text())
        .then(data => {
          // Mostrar overlay de éxito
          successOverlay.classList.add('show');
          
          // Resetear formulario
          form.reset();
          acompList.innerHTML = '';
          acompCount = 0;
          acompIdCounter = 0;
          actualizarTotal();
          acompExtra.style.display = 'none';
          acompExtra.classList.remove('minimized');
          chkAcompanantes.checked = false;
          statusText.textContent = 'Tu respuesta se guarda automáticamente. ¡Gracias por acompañarnos!';
        })
        .catch(error => {
          console.error('Error!', error);
          statusText.textContent = 'Hubo un problema al enviar el formulario. Probá de nuevo más tarde.';
        });
      });
    }
  </script>
</body>
</html>
